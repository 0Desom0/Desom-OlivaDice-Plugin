- **名称**：`骗子酒馆（LiarBar）`
- **作者**：`Desom-fu`
- **版本**：`1.0.0`
- **兼容版本**：`理论兼容所有 3.0 以上的 OlivOS 版本`
- **平台**：`理论支持能够私聊的全平台（仅在 QQ 部署测试）`
- **前置插件**：`OlivaDiceCore`

---

## 简介

骗子酒馆（LiarBar）是一款群聊进行、私聊出牌的多人回合制小游戏（2-6人），移植自同名 Steam 游戏骗子酒馆。

---

## 下载

- ### 插件包（注意解压！！！）：
[upl-file uuid=38443831-dab8-4715-a42f-81103fe73d2f size=15kB]liarbar.zip[/upl-file]

---

## 注意事项

- 出牌建议私聊 bot 发送，避免暴露手牌。
- 若未添加 bot 为好友，可能无法私聊发牌/看牌（若是 QQ 平台，插件会拦截并提示）。

---

## 命令总览（前缀：.lb）

### 入场/开局（群聊）
- `.lb join`：加入本群游戏（2-6 人）
- `.lb leave`：个人离场（开局前=退出房间；开局后=离场）
- `.lb start`：开始游戏（至少 2 人）
- `.lb status`：查看局势

### 手牌/出牌
- `.lb show`：群聊触发，bot 私聊返回你的手牌（QQ 平台需加好友）
- （私聊）`.lb play [牌]`：出牌（每次最多 3 张；例如：`AAK` 或 `A Q K`；恶魔牌仅能单张）

### 质疑/结束
- `.lb doubt`：群聊质疑上家（仅轮到你时）
- `.lb end`：强制结束/解散（权限：管理员/群主/骰主）

---

## 规则

### 牌与发牌
- 游戏人数：2-6 人。
- 每一轮会随机抽取一个“真牌”（A / Q / K 之一）。
- 每名仍在局的玩家会收到 5 张手牌（通过 bot 私聊发送）。
- 手牌可能出现：A / Q / K / 恶魔牌。
- （实现细节提示）牌堆中可能存在 Joker：若发到手里，会直接视为本轮真牌（等同真牌）。

### 回合与出牌
- 游戏在群内推进，但**出牌需要私聊 bot**：`（私聊）.lb play [牌]`。
- 每次出牌 1-3 张；恶魔牌仅允许单张打出。
- 游戏开始/每轮开始会随机一个玩家先手；之后按座位顺序轮流行动。
- 当某玩家手牌出完后，会被标记为“已出完牌”（仍可能在后续规则中被波及）。
- 若其余所有玩家都已出完牌，仅剩你还有手牌：你不能再出牌，只能在群里质疑上家（`.lb doubt`）。

### 质疑
- **只能在轮到你时**，对“上家刚出的那一手”发起质疑：群聊 `.lb doubt`。
- 若上家出的牌中存在**非真牌**：质疑成功，上家受罚。
- 若上家出的牌**全为真牌**：质疑失败，质疑者受罚。

### 受罚（开枪）
- 受罚者会“自罚一枪”：可能为空弹（存活）或实弹（淘汰）。
- 若被淘汰，则本局不再参与后续轮次。

### 恶魔牌规则
- 恶魔牌在任何时候都视为真牌。
- 若下家质疑了恶魔牌：除出牌者外，其他所有仍在局的玩家都要自罚一枪（包括已出完牌者）。

### 胜负与结束
- 若仅剩 1 名存活玩家：该玩家获胜。

---

## 规则入口

- 规则：使用 `.help liarbar_rule` 查看。
- 指令入口：使用 `.help liarbar` 查看。

---

## 使用示例

```
.lb join
.lb join
.lb start
.lb show
（私聊）.lb play AAK
.lb doubt
.lb status
```

---

## 安装

1. 将 `LiarBar.opk` 放入 OlivOS 插件目录：`YourOlivOSPath/plugin/app`。
2. 重载插件。

---

## 更新日志

### 2026.1.10 v1.0.0
- 初版发布（2-6 人；私聊出牌/群聊质疑；恶魔牌规则；胜者公告；QQ 好友校验私聊能力）。

---

## 截图演示
![Image description](https://forum.olivos.run/assets/files/2026-01-10/1768047651-338574-9c96d1d20eb8a4f64cac64ff5518efab-720.jpg)
